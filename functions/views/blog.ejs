<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
        <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->
        <link rel="stylesheet" href="./css/styles.css">
        <title>G-Port</title>
    </head>
    <body>
        <button onclick="window.location.href = '/' " class="back">Home</button>
        <h1>Blog</h1>
        
        <div class="new-post">
            <h2>Add New Post</h2>
            <form action="/add-post" method="POST">
                <input type="text" name="name" placeholder="Your Name" required>
                <textarea name="content" placeholder="Write your post here..." required></textarea>
                <button type="submit">Add Post</button>
            </form>
        </div>

        <div class="posts">
            <% if (typeof posts !== 'undefined' && posts.length > 0) { %>
                <% posts.forEach(post => { %>
                    <div class="post">
                        <h3><%= post.name %></h3>
                        <p><%= post.content %></p>
                        <small>Posted on: <%= post.date %></small>
                        <div class="post-actions">
                            <a href="/edit-post/<%= post.id %>" class="edit-btn">Edit</a>
                            <form action="/delete-post/<%= post.id %>" method="POST">
                                <button type="submit" class="delete-btn">Delete</button>
                            </form>
                        </div>
                    </div>
                <% }) %>
            <% } else { %>
                <p>No posts yet. Be the first to add one!</p>
            <% } %>
        </div>
    </body>